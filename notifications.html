<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>通知中心 · KidneySphere</title>
  <meta name="description" content="KidneySphere 通知中心">
  <link rel="icon" href="assets/logo.png" />
  <link rel="stylesheet" href="styles.css?v=20260213_001" />
</head>
<body>
  <header class="nav"></header>

  <main>
    <section class="hero">
      <div class="container">
        <div class="card">
          <div style="display:flex;gap:10px;align-items:flex-end;justify-content:space-between;flex-wrap:wrap">
            <div>
              <span class="badge">通知 · Notifications</span>
              <h2 style="margin-top:10px">通知中心</h2>
              <p class="small muted" style="margin-top:6px">用于提示 <b>新病例</b>、病例讨论的 <b>新回复</b> 与 <b>新社区动态</b>。默认以本设备的“最近阅读时间”为基准（红点逻辑一致）。</p>
            </div>
            <div style="display:flex;gap:10px;flex-wrap:wrap">
              <button class="btn" type="button" id="refreshBtn">刷新</button>
              <button class="btn primary" type="button" id="markAllBtn">全部标记已读</button>
            </div>
          </div>

          <div class="hr"></div>

          <div class="grid cols-2" style="align-items:start">
            <div class="card soft" style="padding:16px">
              <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:10px;flex-wrap:wrap">
                <div>
                  <h3 style="margin:0">新病例讨论 / 新回复</h3>
                  <div class="small muted" style="margin-top:6px">仅展示你上次查看后新增的病例 <b>以及</b> 病例讨论的新增回复。</div>
                </div>
                <div style="display:flex;gap:8px;align-items:center">
                  <span class="badge" id="casesCount">0</span>
                  <button class="btn tiny" type="button" id="markCasesBtn">标记已读</button>
                </div>
              </div>
              <div class="hr" style="margin:12px 0"></div>
              <div id="casesList"><div class="muted small">加载中…</div></div>
            </div>

            <div class="card soft" style="padding:16px">
              <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:10px;flex-wrap:wrap">
                <div>
                  <h3 style="margin:0">新社区动态</h3>
                  <div class="small muted" style="margin-top:6px">仅展示你上次查看后新增的动态。</div>
                </div>
                <div style="display:flex;gap:8px;align-items:center">
                  <span class="badge" id="momentsCount">0</span>
                  <button class="btn tiny" type="button" id="markMomentsBtn">标记已读</button>
                </div>
              </div>
              <div class="hr" style="margin:12px 0"></div>
              <div id="momentsList"><div class="muted small">加载中…</div></div>
            </div>
          </div>

          <div class="hr"></div>
          <div class="note" id="notifHint">
            <b>提示：</b>如果你第一次使用通知中心，会从“现在”开始计算（不会把历史内容当成新通知）。
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer" data-blurb="通知中心用于辅助“回到现场”；不替代邮件或正式通知渠道。"></footer>
<script type="module" src="notifications.js?v=20260118_001"></script>
  <script type="module" src="app.js?v=20260128_030"></script>
</body>
</html>
